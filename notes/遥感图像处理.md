遥感图像处理可分为两类：
一是利用光学、照相和电子学的方法对遥感模拟图像(照片、底片)进行处理，简称为光学处理； 
二是利用计算机对遥感数字图像进行一系列操作，从而获得某种预期结果的技术，称为遥感数字图像处理。学习教程：https://www.bilibili.com/video/BV1WJ411D7AG?t=195.6

# 绪论
图像：物理世界中客观对象的一种表示。
物理图像：物质或能量的实际分布。
数字图像：物体的数字表示，像素就是离散的单元。
像素是数字图像的基本构成单位。

数字图像处理
- 对一个物体的数字表示施加一系列的操作，以得到所期望结果的过程
数字图像分析
- 将一幅图像转化为一种非图像的表示，如一个测量数据集或一个决策等

遥感[^2]数字图像处理=遥感（数字图像处理+数字图像分析）。
遥感数字图像特点：
- 宏观性：大场景的宏观观测
- 不确定性：无法如同物理一样精确表述。

遥感数字图像与照片的区别：

| 照片              | 遥感数字图像                       |
| --------------- | ---------------------------- |
| 一旦获取了照片，颜色就是确定的 | 颜色没有特定的规则，在处理过程中可以根据需要通过合成产生 |
| 来自于模拟方式         | 来自于数字方式                      |
| 没有像素            | 基本构成单位是像素                    |

## 相关的学科
### 交叉学科
数学：
- 线性代数
- 微积分
- 信号处理
物理学
地学
计算机图形学
模式识别
人工智能
计算机视觉
信息科学


### 技术学科：强调应用性和可操作性

## 图像处理的两个观点
### 连续的方法
我们感兴趣的图像通常源自物理世界，它们服从可用连续数学很好地描述的规律。

### 离散的方法
只有当一幅图像源于且终于数字形式时，使用离散方法才是合理的。

图像是连续世界的离散表达。
![](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-Image_Definition.jpg)

## 遥感对地观测体系
遥感数字图像处理是遥感对地观测体系的基本组成部分。
![](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-Remote%20Sensing_Earth_Observation_System.jpg)
采样：将连续的数据变换成离散数据的操作。
空间采样：连续的地物成为离散的像素点。
光谱[^5]采样：连续的电磁波谱成为离散的波段[^4]。
重采样：重采样是从高分辨率遥感影像中提取出低分辨率影像，或者从低分辨率影像中提取高分辨率影像的过程，常用于图像的几何纠正或不同空间分辨率图像的匹配。

像素的基本属性特征为像素值，其高低反映了图像的明暗程度和能量的高低。

遥感数字图像中的像素值又称为亮度值(或灰度值、灰度级)。灰度值：表示图像中单个像素亮度（亮或暗）。范围一般从0到255[^10]，白色为255，黑色为0，故黑白图片也称灰度图像。但是如果像素的数据类型是unsigned int（16位），那么白色就用65535表示，而255在这种情况下会是黑色。

量化：将像素灰度值转换成**整数**灰度级的过程。量化影响着图像细节的可分辨程度，量化位数越高，细节的可分辨程度越高；保持图像大小不变，降低量化位数会减少灰度级、导致假的轮廓。8位量化，256级。4位量化，16级。2位量化，4级。

### 数据源
商业高分辨率卫星：
- Pleiades系列卫星（简称P星），0.5米分辨率，最新Pleiades NEO达到0.3米。
- WorldView系列卫星，最高0.3米分辨率。
- 吉林一号系列卫星，最高0.5米分辨率。
- 高景一号系列卫星，0.5米分辨率。
- 北京二号、北京三号系列卫星，最高0.5米分辨率。

免费数据：
- 哨兵系列：包括哨兵1雷达数据、哨兵2光学数据（双星组成星座，5天重返周期），以及哨兵3和哨兵5。
- Landsat系列：在轨的Landsat8和Landsat9组成星座，8天重返周期。
- 资源一号02D/F和高分五号高光谱图像（AHSI）。
- 极轨/气象卫星： MODIS、NPP、风云三号等。



# 基础知识
一景指卫星拍摄一次所拍摄到的画面。
广义的传感器是一种检测装置，能将感受到的能量按一定的规则变换为电信号或数字。
遥感器是远距离检测关于地物和环境的电磁波[^3]能量的装置。

## 遥感器分类
### 按工作方式划分
![](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-Active_passive_remote_sensing.png)
#### 主动
主动式仪器发出一束能量脉冲，该脉冲会被目标反射（后向散射），仪器通过检测回波信号的变化来获取信息。

#### 被动
使用太阳发出的能量。

## 遥感器的分辨力
遥感器（remote sensor）的分辨力（resolution）[^1]：
- 辐射分辨力
- 谱分辨力
- 空间分辨力
- 时间分辨力

辐射分辨力：Radiometric resolution is the amount of information in each pixel, that is, the number of bits representing the energy recorded. Each bit records an exponent of base 2. For example, an 8 bit resolution is 28, which indicates that the instrument has 256 potential digital values (0-255) to store information. Thus, the higher the radiometric resolution, the more values are available to store information, providing better discrimination between even the slightest differences in energy. For example, when assessing water quality, radiometric resolution is necessary to distinguish between subtle differences in ocean color.
![](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-Radiometric_resolution.png)
- 区分电磁波辐射强度差异的能力
- 用量化位数近似表述

谱分辨力：Spectral resolution in remote sensing refers to the ability of a sensor to detect different wavelengths or colors of light. A high spectral resolution sensor can distinguish between different types of vegetation or minerals based on their unique spectral signatures.
![](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-![[Test.png]]_Spectrum.jpeg)
- 传感器记录的电磁波谱中特定的波长范围和数量
- 波长范围越窄，谱分辨力越高。波段[^4]数越多，谱分辨力越高

空间分辨力：Spatial resolution in remote sensing refers to the level of detail or the size of the smallest feature that can be detected in an image. It is determined by the sensor’s pixel size, which is the area on the ground represented by each pixel in the image. 如果是空间分辨力是1km，即图像上的一个像素表示地面上1km x 1km的区域。
![](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-Spatial_resolution.jpg)
The smaller the pixel size, the higher the spatial resolution and the more detailed the image. It is also important to note that spatial resolution alone does not guarantee the accuracy of the information obtained from remote sensing data. Other factors such as atmospheric conditions, sensor calibration, and data processing techniques also play important roles in determining the accuracy and reliability of remote sensing data. 
Examples:
- **Land Cover Classification:** High spatial resolution imagery can be used to distinguish between different land cover types, such as forests, urban areas, and agricultural land. For example, an image with a spatial resolution of 1 meter can help identify individual trees, buildings, and crops, while an image with a spatial resolution of 30 meters may only be able to distinguish between broad land cover types.

时间分辨力：对同一区域探测时，相邻两次探测的时间间隔。
Temporal resolution in remote sensing refers to the frequency and regularity of data acquisition over a given area. It is determined by the time interval between successive acquisitions of images or other data. A sensor with high temporal resolution can provide frequent updates on changes in land cover, vegetation health, or other features over time.

## 遥感数据
注：遥感数据包括但不限于遥感数字图像。


# 数据预处理
## 几何校正
引起图像畸变因素：
(1)系统误差
有规律的、可预测的。比如扫描畸变。
(2)非系统误差
无规律的，如传感器平台的高度、经纬度、速度和姿态的不稳，地球曲率及空气折射，地形影响等
几何校正：纠正系统和非系统因素引起的几何畸变。比如：图像配准，图像正射校正。

### 图像正射校正
图像正射校正（Ortho-rectification）：借助于地形高程模型(DEM), 对图像中每个像元进行地形的校正，使图像符合正射投影的要求。可解决一些非系统误差以及传感器的系统误差，例如：比例尺[^6]变化、传感器的姿态/方位。
比例尺变化：两个同样宽度的房子，但由于所处海波高度的不同，会造成其在影像上的比例尺变化。（更高海波的房子拍出来会更大）
![](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-Scale_change.jpg)
正射校正的使用条件：
- 对于分辩率较高（小于或等于15米，有时候30米也提供RPC文件），且具有RPC文件或者轨道参数的图像，可以用正射校正的方法完成几何校正，以达到更高的精度要求。
- 对于中等分辩率（如20米），影像覆盖区为山区，地形起伏较大。可以用正射校正以达到较高的精度要求。

### 方法
几何粗校正：校正系统误差，由地面站完成。
地理参照：
几何精校正：

数据分级：对遥感数据进行不同的处理之后就会对应不同的级别。哨兵数据是总体上划分为了5个等级，分别为 Level-0，Level-1A， Level-1B， Level-1C以及Level-2A。各等级具体的处理情况如下：
- Level-0： 原始数据。
- Level-1A：包含元信息的几何粗校正产品。

## 辐射校正
辐射率：通常叫辐射亮度值，是某一个面积辐射能量的总和。
反射率：物体表面所能反射的辐射量和它所接受的辐射量的比值，一般在[0,1]范围。


## 拼接
影像拼接（镶嵌）：在某些遥感影像的应用场景中，如果我们关注的区域正好处于两个影像的交界处，那我们就需要将影像拼接起来才可以使用。
[Handle Multiple Remotely Sensed Images — Python Open Source Spatial Programming & Remote Sensing](https://pygis.io/docs/f_rs_mosaic.html)

[Create image mosaic with python : numpy, pillow, scipy | Medium](https://medium.com/@aarongrove/creating-image-mosaics-with-python-8e4c25dd9bf9)


## 零散概念
地面控制点：找到待校正图像上的点对应真实的坐标值。
重采样[^7]方法：
- 最近邻法
	- 取与所计算点（x，y）周围相邻的4个点，比较它们与被计算点的距离，哪个点距离最近，就取哪个亮度值作为（x，y）点的亮度值。
	- 特点：简单易用，计算量小，图像的亮度具有不连续性，精度差。
- 双线性内插法
	- 取（x，y）点周围的4邻点，在y方向内插二次，再在x方向内插一次，得到（x,y）点的亮度值f（x，y）。
	- 双线性内插法比最近邻发虽然计算量有所增加，但精度明显提高，特别是对亮度不连续现象或线状特征的块状化现象有明显的改善。
	- 内插法会对图像起到平滑作用，从而使对比度明显的分界线变得模糊。
- 三次卷积内插法

图像融合：将低分辨率的多光谱影像[^8]与高分辩率的单波段影像重采样生成成一副高分
辩率多光谱影像遥感的图像处理技术。


# 图像信息提取
遥感影像通过亮度值或像元[^9]值的高低差异（反映地物的光谱信息）及空间变化（反映地物的空间信息）来表示不同地物的差异，这是区分不同影像地物的物理基础。

遥感影像分类就是利用计算机通过对遥感影像中各类地物的光谱信息和空间信息进行分析，选择特征，将图像中每个像元按照某种规则或算法划分为不同的类别，然后获得遥感影像中与实际地物的对应信息，从而实现遥感影像的分类，即信息提取。

## 信息种类
### 定性（特征）信息
地物类型
空间信息：分布，形状
### 定量信息
地表物质的定量物理量和准确的空间位置，如叶面积指数、气溶胶含量、水质参数。

### 其他信息
地形信息


## 方法
人工目视解译：
- 依据解译标志、经验等识别地物
- 精度高，工作量大，只能获取空间特征信息

计算机自动分类：
- 依据图像分类算法自动识别地物工作量相对少，精度相对较低

半自动、半人工：
- 在计算机自动分类基础上，人工修缮
- 精度高，工作量较大





[^1]: 但是对于遥感图像来说，resolution的翻译是分辨率。
[^2]: 指图像的获取方式。
[^3]: 电磁波是能量的一种，凡是高于绝对零度的物体，都会释出电磁波。正像人们一直生活在空气中而眼睛却看不见空气一样，除光波外，人们也看不见无处不在的电磁波。
[^4]: 即电磁波谱中一个波长范围。比如：可见光，microwave。band和range是一个意思。
[^5]: 谱（spectrum）是一种物理情境或现象，其数值不限于一组特定的值，而是可在一段连续区中无间隔地变化（我的理解：有点像数学中连续的函数）。光谱：The optical spectrum is defined as a small portion of the electromagnetic spectrum that ranges from 200 to 1400 nm. 光谱中的可见光谱是电磁波谱中人眼可见的唯一部分。
[^6]: 比例尺主要功能是方便绘图人员在不借助计算器等工具的情况下，精确地在面积有限的图纸上绘制大尺寸物体（如房屋、地块、道路等）按比例缩小的图形。和普通直尺不同的是，比例尺上一般不标注尺子上的长度，而是标注在一定比例下尺上长度对应现实中实际物体的长度。以1:100的比例尺为例，在普通直尺标示1 cm的位置，比例尺标注为1 m，即在1:100的图纸上从0刻度到这个刻度的长度代表现实中1米的长度
[^7]: 重采样是从高分辨率遥感影像中提取出低分辨率影像的过程。由低分辨率到高分辨率也是重采样。
[^8]: 从4-15个波段拍摄得到的图像。
[^9]: 影像单元，即像素。
[^10]: 像素的数据类型为byte。