Geoprocessing is a general term for manipulating spatial data, whether raster or vector.

# 空间数据

## Vector data
Vector data is made up of points, lines, and polygons. A dataset containing country boundaries is an example of vector data. In this case, each country is generally represented as a polygon.


## Raster Data
raster data is a two or three dimensional array of data values such as the pixels in a photograph.

Raster datasets are well suited to any continuous data, not only photographs. Precipitation data like that shown in figure 1.6 is a good example. Rain doesn’t usually stop at a sudden boundary, so it’s hard to draw a polygon around it. Instead, a grid of pre-
cipitation amounts works much better and can capture local variation more easily.

![](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-Raster_data_use_case.jpg)


A raster dataset is made of bands, and each of these bands is a two-dimensional array. The collection of bands becomes a 3D array.


# Using spatial reference systems
A spatial reference system is made of three components—a coordinate system, a datum, and a projection—all of which affect where on the earth a set of coordinates refers to. Briefly, datums are used to represent the curvature of the earth, and projections transform coordinates from a three-dimensional globe to a two-dimensional map.

因为地球表面有山或者峡谷，所以地球不完全是一个球体，and also because measurement accuracies vary, the earth’s ellipsoid has multiple models. These models are called datums, and every spatial reference system is based on one of them. One widely used global datum, the World Geodetic System, was last revised in 1984. This datum, called WGS84 for short, is the one used for data with a global coverage, including the Global Positioning System (GPS). Most datums are designed to model the curvature of the earth in a more localized area, such as a continent or even a smaller area. 
A datum designed for one area will not work well elsewhere. For example, the North American Datum of 1983 (NAD83) shouldn’t be used in Europe.

Depending on which datum is being used, the same set of latitude and longitude coordinates can refer to slightly different locations, because the underlying ellipsoids are different shapes. Sometimes the difference between coordinates using two different datums is negligible, but other times it can be hundreds of meters. 


通过三维的地球得到二维的地图的办法：One way to solve the problem is with what’s called an interrupted map.
![](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-An_interrupted_Map.jpg)

解决各个洲被分割成块，以及被浪费的空间分离的办法——projection。This is where projections come in. As their name implies, they’re used to project, or transform, locational data into a different coordinate system.

No matter how you project geographic data to two dimensions, you’ll get distortion.
Figure 8.3 shows a couple of ways a piece of paper could be wrapped around a globe and used to convert the geographic data to 2D.
![RemoteSensingDigitalImageProcessing-Projection.jpg](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-Projection.jpg)

Certain projections, called conformal, preserve local shapes. For example, the shape of Lake Titicaca on the border of Bolivia and Peru wouldn’t change between the globe and the 2D map. Others, called equal-area projections, keep the amount of area the same, so the measured area of Greenland wouldn’t change, although the shape might. The Lambert equal-area and Gall-Peters projections are two examples of this.

![RemoteSensingDigitalImageProcessing-Examples_of_different_types_of_projection.jpg](https://cdn.jsdelivr.net/gh/1907-peng/pictures/img/RemoteSensingDigitalImageProcessing-Examples_of_different_types_of_projection.jpg)


# 读写raster data
## 介绍
As mentioned, raster datasets can hold pretty much any type of data you’d like. That doesn’t mean that it’s always a good idea to use rasters, however. Objects that can be thought of as points, lines, or polygons are usually better left as vectors. For example, country boundaries lend themselves perfectly to a polygon vector dataset. This same data could be stored in a raster, but it would take up more disk space and the boundaries wouldn’t be nice, smooth lines. 

Raster is a perfect choice when values change continuously instead of at sharply defined boundaries. This includes common datasets such as elevation, slope, aspect, precipitation, temperature, and satellite data. 

Now let’s talk a bit about the details of raster datasets. You can probably envision a digital photograph as a two-dimensional array of pixels. In fact, that’s what we talk about when discussing the dimensions of a photo—the numbers of rows and columns in that 2D array. This is what raster datasets are, except that they aren’t limited to two dimensions. They can have a third dimension in the form of bands. Digital photos have multiple bands, too, although you don’t usually think of them that way. But they have one each for red, green, and blue wavelengths of light. Your computer (or printer) combines these together to produce the colors you see on your monitor
screen. 

Obviously not all raster datasets are photographs, so pixel values don’t have to correspond to colors. Pixel values in a digital elevation model (DEM), for example, correspond to elevation values.

Raster datasets commonly use one set of coordinates, the pixel size, and the amount the dataset is rotated to determine coordinates for the rest of the image. This is called an affine transformation, and is a common way to georeference a raster dataset, although it isn’t
the only way.